#重新加载kitty命令
#kitty @ set-colors --reload-in=all ~/.config/kitty/kitty.conf
# === 基础与字体设置 ===
# 确保系统已安装 JetBrainsMono Nerd Font 字体
# 这是开发者和终端用户最受欢迎的等宽字体之一
font_family      JetBrainsMono Nerd Font 
font_size        13.0
bold_font        Ultra-Bold
italic_font      Ultra-Bold
bold_italic_font Ultra-Bold
# 启用连字功能 (例如 => 会变成一个箭头)
disable_ligatures never

# 克隆插件
#git clone https://github.com/jdhao/nvim-config.git ~/.config/kitty/plugins/
# 在配置中添加
include plugins/plugin-name.conf
# =================================================================
# 高级视觉与功能增强
# =================================================================

# 启用真彩色支持 (24-bit color)
# 让终端支持显示超过1600万种颜色，提升视觉体验
allow_remote_control yes
# 设置Unix socket路径，用于远程控制和插件
listen_on unix:/tmp/kitty-$USER-$KITTY_PID

# 平滑滚动配置
# 调整鼠标滚轮滚动速度和触摸板滚动速度
wheel_scroll_multiplier 8.0
touch_scroll_multiplier 4.0

# 行间距调整 (让文字更有呼吸感)
# 增加行高，改善代码和文本的阅读体验
adjust_line_height  120%
adjust_column_width 0

# 启用 undercurl 下划线样式
# 用于语法高亮显示错误和警告，支持波浪线下划线
underline_hyperlinks hover
cursor_underline_thickness 1.5

# 终端铃声替代方案
# 禁用声音提示，改用视觉提示（闪烁）
visual_bell_duration 0.2
visual_bell_color #ff5555

# =================================================================
# 窗口外观配置
# =================================================================
# 记住上次的窗口大小，下次打开时保持相同尺寸
remember_window_size  yes
# 初始窗口大小 (宽度x高度)
initial_window_width  1000
initial_window_height 650
# 窗口内边距 (让文字不要贴着边框，更有呼吸感)
window_padding_width 0
# 隐藏窗口装饰 (去掉顶部原本丑陋的标题栏，仅在平铺式WM下推荐 yes)
hide_window_decorations no
# 背景透明度 (0.0 - 1.0)，0.9表示90%不透明
background_opacity 0.90
# 背景模糊效果 (仅支持部分合成器，如 KDE, Wayland, macOS)
background_blur 1

# =================================================================
# 标签栏配置 - 颜值的核心
# =================================================================
# 标签栏位置：顶部 (可选: top, bottom)
tab_bar_edge top
# 标签栏样式：powerline (最流行的尖角样式)
tab_bar_style powerline
# powerline 样式：slanted (倾斜), angled (角度), round (圆角)
tab_powerline_style slanted
# 标签显示内容格式：{index}标签序号, {title}标签标题
tab_title_template "{index}: {title}"
# 激活/未激活标签的字体样式
active_tab_font_style   bold
inactive_tab_font_style normal

# =================================================================
# 光标与鼠标配置
# =================================================================
# 光标形状：block (方块), beam (竖线), underline (下划线)
cursor_shape beam
# 光标闪烁间隔 (秒)，0.5表示每0.5秒闪烁一次
cursor_blink_interval 0.5
# 输入时隐藏鼠标光标，3.0秒后自动隐藏
mouse_hide_wait 3.0
# 鼠标选中自动复制（Linux 风格），选中文本后自动复制到剪贴板
copy_on_select yes

# 鼠标增强配置
# 点击间隔时间，防止误双击
click_interval 0.5
# 定义单词选择字符，双击鼠标选中单词时包含这些字符
select_by_word_characters @-./_~?&=%+#
# 矩形选择模式修饰键，配合鼠标拖拽选择矩形区域
rectangle_select_modifiers ctrl+shift

# =================================================================
# 性能与系统优化
# =================================================================
# 延迟重绘时间 (毫秒)，减少 CPU 占用
repaint_delay 8
# 输入延迟时间 (毫秒)，平衡响应速度和性能
input_delay 2
# 同步屏幕刷新率 (防止画面撕裂)
sync_to_monitor yes

# 滚动优化配置
# 保留的历史行数，可回滚查看之前的输出
scrollback_lines 10000
# 滚动历史查看器配置，使用less命令查看
scrollback_pager less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
# 鼠标滚轮滚动倍数
wheel_scroll_multiplier 5.0

# 内存管理优化
# 当窗口放大时，用历史记录填充额外空间
scrollback_fill_enlarged_window yes

# =================================================================
# 快捷键映射 - 提升效率的关键
# =================================================================
# 定义主修饰键 (Mod键)，这里设为 ctrl+shift
kitty_mod ctrl+shift

# 复制粘贴快捷键 (符合现代习惯)
# 使用 kitty_mod + c/v 进行复制粘贴，避免与ctrl+c终止程序冲突
map kitty_mod+c copy_to_clipboard
map kitty_mod+v paste_from_clipboard

# 窗口分割快捷键
# 垂直分割 (上下分割窗口)
map kitty_mod+h launch --location=hsplit
# 水平分割 (左右分割窗口)
map kitty_mod+l launch --location=vsplit

# 切换焦点窗口 (在分割窗口间移动焦点)
map shift+up move_window up
map shift+left move_window left
map shift+right move_window right
map shift+down move_window down

# 窗口大小调整快捷键 (vim风格)
# 使用方向键调整当前窗口大小
map kitty_mod+up resize_window taller 5
map kitty_mod+down resize_window shorter 5
map kitty_mod+left resize_window narrower 5
map kitty_mod+right resize_window wider 5

# 标签页管理增强
# 切换下一个/上一个标签页
map ctrl+tab next_tab
map ctrl+shift+tab previous_tab
# 新建标签页
map cmd+t new_tab
# 在当前工作目录新建标签页
map kitty_mod+t new_tab_with_cwd
# 复制当前标签页 (包括工作目录和历史)
map kitty_mod+shift+t duplicate_tab
# 快速切换到指定标签页 (数字键1-5)
map kitty_mod+1 goto_tab 1
map kitty_mod+2 goto_tab 2
map kitty_mod+3 goto_tab 3
map kitty_mod+4 goto_tab 4
map kitty_mod+5 goto_tab 5
# 回到上一个标签页 (类似浏览器alt+左箭头)
map kitty_mod+0 goto_tab -1

# 布局管理快捷键
# 切换下一个布局 (支持多种窗口布局)
map kitty_mod+g next_layout
# 切换上一个布局
map kitty_mod+shift+g previous_layout
# 切换到堆叠布局 (所有窗口重叠显示)
map kitty_mod+f toggle_layout stack

# 实用功能快捷键
# 查看滚动历史 (类似less查看历史输出)
map kitty_mod+u show_scrollback
# 全屏切换快捷键
map kitty_mod+enter toggle_fullscreen
# 快速编辑配置文件
map kitty_mod+e edit_config_file
# 重新加载配置文件 (修改配置后无需重启)
map kitty_mod+shift+r load_config_file

# 字体大小调整快捷键
# 增大字体大小
map ctrl+equal change_font_size all +2.0
# 减小字体大小
map ctrl+minus change_font_size all -2.0
# 重置字体大小为默认值
map ctrl+0 change_font_size all 0

# =================================================================
# Shell集成与高级功能
# =================================================================
# 禁用终端铃声 (避免烦人的提示音)
enable_audio_bell no
# 启用shell集成功能 (优化提示符和标题显示)
shell_integration enabled no-title no-cursor
# 允许超链接 (终端中的URL可点击)
allow_hyperlinks yes
# 终端类型设置为xterm-kitty，确保兼容性
term xterm-kitty

# 远程控制设置 (用于高级功能和插件)
allow_remote_control socket-only

# =================================================================
# 实用扩展功能
# =================================================================
# 检测URL并高亮显示
detect_urls yes
# 为超链接添加下划线样式
undercurl_hyperlinks yes
# 鼠标悬停时显示链接目标
show_hyperlink_targets yes

# 视觉提示系统配置
# 视觉铃声持续时间 (秒)
visual_bell_duration 0.1
# 视觉铃声颜色 (红色)
visual_bell_color #ff0000

# =================================================================
# 私人推荐配置
# =================================================================

# 快速文件操作
# 显示当前目录的文件列表 (类似文件管理器)
map kitty_mod+o show_files --type=regular --cwd=current

# 快速打开kitty文档
# 查看kitty官方文档和帮助
map kitty_mod+shift+/ show_kitty_docs

# 窗口标记系统 (类似tmux的窗口标记)
# 标记当前窗口 (可自定义窗口标题)
map kitty_mod+m set_window_title
# 快速切换到上一个使用的窗口
map kitty_mod+` last_used_window

# 禅模式 (专注写作/编程模式)
# 切换全屏模式，隐藏所有装饰，只留文本
map kitty_mod+z toggle_fullscreen

# 粘贴板增强 (可选配置，用于多个粘贴板管理)
# 注释掉，因为可能过于复杂，有需要时启用
# map kitty_mod+p>c combine : copy_to_clipboard : send_text normal \x0c
# map kitty_mod+p>p combine : paste_from_clipboard : send_text normal \x0c
